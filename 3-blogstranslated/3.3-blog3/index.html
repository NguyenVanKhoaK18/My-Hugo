<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../images/favicon.png type=image/png><title>How AWS Lambda SnapStart Works :: Internship Report</title>
<link href=../../css/nucleus.css?1765692163 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1765692163 rel=stylesheet><link href=../../css/hybrid.css?1765692163 rel=stylesheet><link href=../../css/featherlight.min.css?1765692163 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1765692163 rel=stylesheet><link href=../../css/auto-complete.css?1765692163 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1765692163 rel=stylesheet><link href=../../css/theme.css?1765692163 rel=stylesheet><link href=../../css/hugo-theme.css?1765692163 rel=stylesheet><link href=../../css/theme-workshop.css?1765692163 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1765692163></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1765692163></script><script type=text/javascript src=../../js/auto-complete.js?1765692163></script><script type=text/javascript>var baseurl="https://NguyenVanKhoaK18.github.io/My-Hugo/"</script><script type=text/javascript src=../../js/search.js?1765692163></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=../../1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=../../1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=../../1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=../../1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=../../1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=../../1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=../../1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=../../1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=../../1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.9-week9/ title="Week 9 Worklog" class=dd-item><a href=../../1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.10-week10/ title="Week 10 Worklog" class=dd-item><a href=../../1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.11-week11/ title="Week 11 Worklog" class=dd-item><a href=../../1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=../../1-worklog/1.12-week12/><b>1.12. </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=../../2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=../../3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="AWS Tools for PowerShell v4 End-of-Support Announcement" class=dd-item><a href=../../3-blogstranslated/3.1-blog1/><b>3.1. </b>AWS Tools for PowerShell v4 End-of-Support Announcement
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.2-blog2/ title="AWS SDK for .NET v3 End-of-Support Announcement" class=dd-item><a href=../../3-blogstranslated/3.2-blog2/><b>3.2. </b>AWS SDK for .NET v3 End-of-Support Announcement
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="How AWS Lambda SnapStart Works" class="dd-item
active"><a href=../../3-blogstranslated/3.3-blog3/><b>3.3. </b>How AWS Lambda SnapStart Works
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=../../4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=../../4-eventparticipated/4.3-event3/><b>4.3 </b>Event 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=../../5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.1-workshop-overview/ title=Introduction class=dd-item><a href=../../5-workshop/5.1-workshop-overview/><b>5.1. </b>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.2-prerequiste/ title=Prerequiste class=dd-item><a href=../../5-workshop/5.2-prerequiste/><b>5.2. </b>Prerequiste
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-lambda/ title=Lambda class=dd-item><a href=../../5-workshop/5.3-lambda/><b>5.3 </b>Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-apigateway/ title="API Gateway" class=dd-item><a href=../../5-workshop/5.4-apigateway/><b>5.4 </b>API Gateway
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-s3/ title="Set up S3" class=dd-item><a href=../../5-workshop/5.6-s3/><b>5.6. </b>Set up S3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.7-cloudfront/ title="Set up CloudFront" class=dd-item><a href=../../5-workshop/5.7-cloudfront/><b>5.7. </b>Set up CloudFront
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.8-cognito/ title="Setup AWS Cognito Authentication" class=dd-item><a href=../../5-workshop/5.8-cognito/><b>5.8. </b>Setup AWS Cognito Authentication
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.8-cognito/5.8.1-create-user-pool/ title="Create Cognito User Pool" class=dd-item><a href=../../5-workshop/5.8-cognito/5.8.1-create-user-pool/><b>5.8.1. </b>Create Cognito User Pool
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.8-cognito/5.8.2-password-policies/ title="Configure Password Policies" class=dd-item><a href=../../5-workshop/5.8-cognito/5.8.2-password-policies/><b>5.8.2. </b>Configure Password Policies
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.8-cognito/5.8.3-email-verification/ title="Setup Email Verification" class=dd-item><a href=../../5-workshop/5.8-cognito/5.8.3-email-verification/><b>5.8.3. </b>Setup Email Verification
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.8-cognito/5.8.4-app-client/ title="Configure App Client" class=dd-item><a href=../../5-workshop/5.8-cognito/5.8.4-app-client/><b>5.8.4. </b>Configure App Client
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.9-keymanagementservice/ title="Set up KMS" class=dd-item><a href=../../5-workshop/5.9-keymanagementservice/><b>5.9. </b>Set up KMS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.17-secretmanager/ title="Configure AWS Secrets Manager" class=dd-item><a href=../../5-workshop/5.17-secretmanager/><b>5.17. </b>Configure AWS Secrets Manager
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.18-waf/ title="Set up Web ACL" class=dd-item><a href=../../5-workshop/5.18-waf/><b>5.18. </b>Set up Web ACL
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-evaluation class=dd-item><a href=../../6-self-evaluation/><b>6. </b>Self-evaluation
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Feedback & Sharing" class=dd-item><a href=../../7-feedback/><b>7. </b>Feedback & Sharing
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://NguyenVanKhoaK18.github.io/My-Hugo/3-blogstranslated/3.3-blog3/ selected>English</option><option id=vi value=https://NguyenVanKhoaK18.github.io/My-Hugo/vi/3-blogstranslated/3.3-blog3/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../>Internship Report</a> > <a href=../../3-blogstranslated/>Translated Blogs</a> > How AWS Lambda SnapStart Works</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#what-is-cold-start>What is cold start?</a></li><li><a href=#phase-1-creating-a-snapshot-for-your-lambda-function>Phase 1: Creating a snapshot for your Lambda function</a></li><li><a href=#phase-2-storing-snapshots-for-low-latency-retrieval-at-lambda-scale>Phase 2: Storing snapshots for low-latency retrieval at Lambda scale</a></li><li><a href=#phase-3-resuming-execution-from-restored-snapshots>Phase 3: Resuming execution from restored snapshots</a></li><li><a href=#understanding-snapstart-function-performance>Understanding SnapStart function performance</a><ul><li><a href=#function-performance-improves-with-more-invocations>Function performance improves with more invocations</a></li><li><a href=#preload-code-branches-to-optimize-snapshot-restoration-latency>Preload code branches to optimize snapshot restoration latency</a></li><li><a href=#performance-varies-depending-on-function-size>Performance varies depending on function size</a></li><li><a href=#not-all-functions-benefit-from-snapstart>Not all functions benefit from SnapStart</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>How AWS Lambda SnapStart Works</h1><h1 id=under-the-hood-how-aws-lambda-snapstart-optimizes-function-startup-latency>Under the hood: how AWS Lambda SnapStart optimizes function startup latency</h1><p><em>By Ayush Kulkarni and Eric Heinz | August 19, 2025</em></p><p>When building applications with AWS Lambda, optimizing function startup is an important step to improve performance for latency-sensitive applications. The largest contributor to startup latency (often called cold start time) is the time Lambda spends initializing your function code. Lambda SnapStart is a feature available for Java, Python, and .NET runtimes that reduces cold start latency from seconds (or higher) to sub-second levels. SnapStart typically requires no or minimal changes to your application code and makes it easier to build responsive and scalable applications without implementing complex performance optimizations.</p><p>If your function already initializes within a few hundred milliseconds, then AWS recommends using Lambda Provisioned Concurrency to achieve startup latency in the tens of milliseconds.</p><h2 id=what-is-cold-start>What is cold start?</h2><p>Lambda runs your function code in an isolated, secure execution environment using Firecracker microVM technology. When you invoke a Lambda function for the first time, Lambda creates a new execution environment for that function to run. Lambda downloads your function code, starts the language runtime environment, and runs the function&rsquo;s initialization code (the code outside the handler). This initialization process (INIT) is called a cold start. Lambda then runs the function&rsquo;s handler code to execute the invocation. The following figure shows the lifecycle of a typical function invocation.</p><p><img alt="Figure 1. Function invocation lifecycle without SnapStart" src=../../images/3-BlogsTranslated/3.3-Blog3/figure1.png></p><p>A Lambda execution environment only processes one function invocation at a time. After the function finishes running, Lambda doesn&rsquo;t immediately stop the execution environment. When your function receives another invocation request, Lambda will attempt to route that request to an idle but already running execution environment. Since the INIT process has already been run for this execution environment, this invocation is called a warm start.</p><p>The final step of cold start, function code initialization, typically takes the most time. This depends on the startup tasks you perform in your code and the language runtime or framework you use. For languages like Java and .NET, startup latency is affected by just-in-time compilation of static code in loaded classes. For Python, it can be affected if your executed code contains many or large modules.</p><h2 id=phase-1-creating-a-snapshot-for-your-lambda-function>Phase 1: Creating a snapshot for your Lambda function</h2><p>When using SnapStart, the Lambda execution environment lifecycle changes. When you enable SnapStart for a specific function, publishing a new function version triggers the snapshot creation process. This process runs the function initialization phase and creates an immutable, encrypted Firecracker microVM snapshot of the initialized execution environment&rsquo;s memory and disk state, then caches and chunks that snapshot for reuse.</p><p>Code branches not executed during initialization, such as classes loaded on-demand through dependency injection, will not be included in the function&rsquo;s snapshot. To improve snapshot effectiveness, proactively execute code branches during the initialization phase, or use runtime hooks to run code before Lambda creates the snapshot.</p><p>Snapshot creation can take several minutes, during which your function version will be in PENDING state, and transitions to ACTIVE when the snapshot is ready.</p><p>When you invoke your function subsequently, Lambda will restore new execution environments from this snapshot. This optimization makes function invocation faster and more predictable, as creating a new execution environment no longer requires the initialization process.</p><p><img alt="Figure 2. Function invocation lifecycle with SnapStart" src=../../images/3-BlogsTranslated/3.3-Blog3/figure2.png></p><h2 id=phase-2-storing-snapshots-for-low-latency-retrieval-at-lambda-scale>Phase 2: Storing snapshots for low-latency retrieval at Lambda scale</h2><p>Lambda operates at large scale, processing tens of billions of function invocations each month. To efficiently manage and retrieve snapshots at this volume of traffic, Lambda uses storage and caching components. These components include three tiers: Amazon S3 for durable storage, a dedicated distributed cache, and a local cache on Lambda worker nodes.</p><p>Lambda stores function snapshots in Amazon S3, chunking them into 512 KB pieces to optimize retrieval latency. Retrieval latency from Amazon S3 can take up to hundreds of milliseconds per 512 KB chunk. Therefore, Lambda uses a two-tier cache to accelerate snapshot retrieval.</p><p>When you enable SnapStart, during optimization, Lambda will store snapshot chunks in a layer-two (L2 cache). This tier is a cluster of dedicated distributed cache instances built by Lambda. Lambda stores a separate copy of each snapshot for each AWS Availability Zone (AZ).</p><p>Lambda also maintains a layer-one (L1 cache) located on Lambda worker nodes, which are Amazon EC2 instances that process function invocations. This tier is locally available, so it provides the fastest performance, typically 1 millisecond for a 512 KB chunk. Functions with more frequent invocations are more likely to have their snapshot chunks stored in this tier.</p><p><img alt="Figure 3. SnapStart tiered caching" src=../../images/3-BlogsTranslated/3.3-Blog3/figure3.png></p><h2 id=phase-3-resuming-execution-from-restored-snapshots>Phase 3: Resuming execution from restored snapshots</h2><p>Resuming execution from snapshots with low latency is the final phase of SnapStart. This phase involves loading the retrieved snapshot chunks into your function&rsquo;s execution environment. Typically, only a small portion of the retrieved snapshot is needed to serve an invocation.</p><p>Storing snapshots as chunks allows Lambda to optimize the resumption process by proactively loading only the small subset of chunks needed. To do this, Lambda tracks and records the snapshot chunks that the function accesses during each invocation, as shown in the following figure.</p><p><img alt="Figure 4. Initial invocation, recording chunk access pattern" src=../../images/3-BlogsTranslated/3.3-Blog3/figure4.png></p><p>After the first function invocation, Lambda references this recorded chunk access data for subsequent invocations, as shown in the following figure. Lambda proactively retrieves and loads the &ldquo;working set&rdquo; of these chunks before they are needed for execution. This significantly accelerates cold-start latency.</p><p><img alt="Figure 5. Subsequent invocation, loading chunks in access order" src=../../images/3-BlogsTranslated/3.3-Blog3/figure5.png></p><h2 id=understanding-snapstart-function-performance>Understanding SnapStart function performance</h2><h3 id=function-performance-improves-with-more-invocations>Function performance improves with more invocations</h3><p>Functions that are invoked more frequently are more likely to have snapshots stored in the L1 tier cache, which provides the fastest retrieval latency. Portions of snapshots that are less accessed for infrequently invoked functions are less likely to be present in the L1 tier, resulting in slower retrieval latency from L2 cache and S3 tiers.</p><h3 id=preload-code-branches-to-optimize-snapshot-restoration-latency>Preload code branches to optimize snapshot restoration latency</h3><p>To maximize SnapStart benefits, preload dependencies, initialize resources, and perform heavy computational tasks that cause startup latency in your initialization code rather than in the function handler. Code branches not executed during the function&rsquo;s INIT phase will not be included in the function&rsquo;s snapshot.</p><h3 id=performance-varies-depending-on-function-size>Performance varies depending on function size</h3><p>SnapStart performance depends on how quickly Lambda can retrieve and load cached snapshots into your function&rsquo;s execution environment. Larger function sizes increase snapshot size, and therefore increase the number of chunks, which causes performance to vary for functions of different sizes.</p><h3 id=not-all-functions-benefit-from-snapstart>Not all functions benefit from SnapStart</h3><p>SnapStart is designed to improve startup latency when function initialization takes several seconds, due to language-specific factors or due to initializing and loading software dependencies and frameworks. If your function initializes within a few hundred milliseconds, you are unlikely to see significant performance improvement with SnapStart. For these cases, we recommend using Provisioned Concurrency.</p><h2 id=conclusion>Conclusion</h2><p>AWS Lambda SnapStart can deliver sub-second startup performance for Java, .NET, and Python functions with long initialization times. This post explored how Lambda&rsquo;s lifecycle changes with SnapStart and how Lambda efficiently stores and loads snapshots to improve startup performance. SnapStart helps developers build responsive and scalable applications without provisioning resources or implementing complex performance optimizations.</p><p>To learn more about SnapStart, refer to the documentation and launch posts for Java, Python and .NET. For performance tuning, refer to SnapStart best practices for your preferred language runtime.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../3-blogstranslated/3.2-blog2/ title="AWS SDK for .NET v3 End-of-Support Announcement"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../4-eventparticipated/ title="Events Participated" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1765692163></script><script src=../../js/perfect-scrollbar.min.js?1765692163></script><script src=../../js/perfect-scrollbar.jquery.min.js?1765692163></script><script src=../../js/jquery.sticky.js?1765692163></script><script src=../../js/featherlight.min.js?1765692163></script><script src=../../js/highlight.pack.js?1765692163></script><script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1765692163></script><script src=../../js/learn.js?1765692163></script><script src=../../js/hugo-learn.js?1765692163></script><link href=../../mermaid/mermaid.css?1765692163 rel=stylesheet><script src=../../mermaid/mermaid.js?1765692163></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>